<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#FD6182"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-04-28T19:48:02.541064561"><title>Database Connection Pool | NetRunner: Java Mastery Guide</title><script type="application/json" id="virtual-toc-data">[{"id":"vis-o-geral","level":0,"title":"Visão Geral","anchor":"#vis-o-geral"},{"id":"implementa-o","level":0,"title":"Implementação","anchor":"#implementa-o"},{"id":"uso-do-pool","level":0,"title":"Uso do Pool","anchor":"#uso-do-pool"},{"id":"monitoramento","level":0,"title":"Monitoramento","anchor":"#monitoramento"},{"id":"boas-pr-ticas","level":0,"title":"Boas Práticas","anchor":"#boas-pr-ticas"},{"id":"desafios-comuns","level":0,"title":"Desafios Comuns","anchor":"#desafios-comuns"},{"id":"testes","level":0,"title":"Testes","anchor":"#testes"},{"id":"pr-ximos-passos","level":0,"title":"Próximos Passos","anchor":"#pr-ximos-passos"},{"id":"recursos","level":0,"title":"Recursos","anchor":"#recursos"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><link href="static/custom.css" rel="stylesheet"><link rel="icon" type="image/svg" sizes="16x16" href="images/logo-primary.svg"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Database Connection Pool | NetRunner: Java Mastery Guide"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="NetRunner: Java Mastery Guide Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/java/1.0/database-connection-pool.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Database Connection Pool | NetRunner: Java Mastery Guide"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/java/1.0/database-connection-pool.html#webpage",
    "url": "writerside-documentation/java/1.0/database-connection-pool.html",
    "name": "Database Connection Pool | NetRunner: Java Mastery Guide",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/java/#website",
    "url": "writerside-documentation/java/",
    "name": "NetRunner: Java Mastery Guide Help"
}</script><!-- End Schema.org --></head><body data-id="database-connection-pool" data-main-title="Database Connection Pool" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="creational-patterns.md|Padrões Criacionais///creational-projects.md|Projetos de Padrões Criacionais"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>NetRunner: Java Mastery Guide 1.0 Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="database-connection-pool" id="database-connection-pool.md">Database Connection Pool</h1><section class="chapter"><h2 id="vis-o-geral" data-toc="vis-o-geral">Vis&atilde;o Geral</h2><p id="-8bpsx5_12">O projeto Database Connection Pool implementa um gerenciador de conex&otilde;es de banco de dados utilizando o padr&atilde;o Singleton combinado com Object Pool. Este sistema otimiza o uso de recursos e melhora a performance em aplica&ccedil;&otilde;es com alto volume de opera&ccedil;&otilde;es de banco de dados.</p><svg aria-roledescription="classDiagram" role="graphics-document document" viewBox="0 0 403.625 636"  xmlns="http://www.w3.org/2000/svg" width="403.625" id="mermaid"><g><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="18" class="marker aggregation classDiagram" id="mermaid_classDiagram-aggregationStart"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="1" class="marker aggregation classDiagram" id="mermaid_classDiagram-aggregationEnd"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="18" class="marker extension classDiagram" id="mermaid_classDiagram-extensionStart"><path d="M 1,7 L18,13 V 1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="1" class="marker extension classDiagram" id="mermaid_classDiagram-extensionEnd"><path d="M 1,1 V 13 L18,7 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="18" class="marker composition classDiagram" id="mermaid_classDiagram-compositionStart"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="1" class="marker composition classDiagram" id="mermaid_classDiagram-compositionEnd"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="6" class="marker dependency classDiagram" id="mermaid_classDiagram-dependencyStart"><path d="M 5,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="13" class="marker dependency classDiagram" id="mermaid_classDiagram-dependencyEnd"><path d="M 18,7 L9,13 L14,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="13" class="marker lollipop classDiagram" id="mermaid_classDiagram-lollipopStart"><circle r="6" cy="7" cx="7" fill="transparent" stroke="black"></circle></marker></defs><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="1" class="marker lollipop classDiagram" id="mermaid_classDiagram-lollipopEnd"><circle r="6" cy="7" cx="7" fill="transparent" stroke="black"></circle></marker></defs><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#mermaid_classDiagram-dependencyEnd)" style="fill:none" class="edge-pattern-solid relation" id="id_ConnectionPool_Connection_1" d="M111.82,323L108.352,329.167C104.883,335.333,97.945,347.667,94.477,359C91.008,370.333,91.008,380.667,91.008,385.833L91.008,391"></path><path marker-end="url(#mermaid_classDiagram-dependencyEnd)" style="fill:none" class="edge-pattern-solid relation" id="id_ConnectionPool_ConnectionFactory_2" d="M289.008,323L292.477,329.167C295.945,335.333,302.883,347.667,306.352,368.333C309.82,389,309.82,418,309.82,432.5L309.82,447"></path></g><g class="edgeLabels"><g transform="translate(91.0078125, 360)" class="edgeLabel"><g transform="translate(-33, -12)" class="label"><foreignObject height="24" width="66"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><span class="edgeLabel">manages</span></span></div></foreignObject></g></g><g transform="translate(309.8203125, 360)" class="edgeLabel"><g transform="translate(-16.953125, -12)" class="label"><foreignObject height="24" width="33.90625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><span class="edgeLabel">uses</span></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(200.4140625, 165.5)" id="classId-ConnectionPool-22" class="node default"><rect height="315" width="250.09375" y="-157.5" x="-125.046875" class="outer title-state" style=""></rect><line y2="-121.5" y1="-121.5" x2="125.046875" x1="-125.046875" class="divider"></line><line y2="6.5" y1="6.5" x2="125.046875" x1="-125.046875" class="divider"></line><g class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"></span></div></foreignObject><foreignObject transform="translate( -61.5, -150)" height="24" width="123" class="classTitle"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">ConnectionPool</span></div></foreignObject><foreignObject transform="translate( -117.546875, -110)" height="24" width="182.921875"><div xmlns="http://www.w3.org/1999/xhtml" style="text-decoration: underline; display: inline-block; white-space: nowrap;"><span class="nodeLabel" style="text-decoration:underline;">-ConnectionPool instance</span></div></foreignObject><foreignObject transform="translate( -117.546875, -82)" height="24" width="220.40625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">-List&lt;Connection&gt; connections</span></div></foreignObject><foreignObject transform="translate( -117.546875, -54)" height="24" width="88.3125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">-int maxSize</span></div></foreignObject><foreignObject transform="translate( -117.546875, -26)" height="24" width="79.4375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">-int timeout</span></div></foreignObject><foreignObject transform="translate( -117.546875, 14)" height="24" width="229.78125"><div xmlns="http://www.w3.org/1999/xhtml" style="text-decoration: underline; display: inline-block; white-space: nowrap;"><span class="nodeLabel" style="text-decoration:underline;">+getInstance() : ConnectionPool</span></div></foreignObject><foreignObject transform="translate( -117.546875, 42)" height="24" width="218.171875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+getConnection() : Connection</span></div></foreignObject><foreignObject transform="translate( -117.546875, 70)" height="24" width="235.09375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+releaseConnection(Connection)</span></div></foreignObject><foreignObject transform="translate( -117.546875, 98)" height="24" width="233.78125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">-validateConnection(Connection)</span></div></foreignObject><foreignObject transform="translate( -117.546875, 126)" height="24" width="141.859375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">-createConnection()</span></div></foreignObject></g></g><g transform="translate(91.0078125, 512.5)" id="classId-Connection-23" class="node default"><rect height="231" width="166.015625" y="-115.5" x="-83.0078125" class="outer title-state" style=""></rect><line y2="-79.5" y1="-79.5" x2="83.0078125" x1="-83.0078125" class="divider"></line><line y2="20.5" y1="20.5" x2="83.0078125" x1="-83.0078125" class="divider"></line><g class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"></span></div></foreignObject><foreignObject transform="translate( -44.1171875, -108)" height="24" width="88.234375" class="classTitle"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Connection</span></div></foreignObject><foreignObject transform="translate( -75.5078125, -68)" height="24" width="69.625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">-String url</span></div></foreignObject><foreignObject transform="translate( -75.5078125, -40)" height="24" width="107.96875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">-boolean inUse</span></div></foreignObject><foreignObject transform="translate( -75.5078125, -12)" height="24" width="151.015625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">-Timestamp lastUsed</span></div></foreignObject><foreignObject transform="translate( -75.5078125, 28)" height="24" width="118.234375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+execute(String)</span></div></foreignObject><foreignObject transform="translate( -75.5078125, 56)" height="24" width="66.1875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+isValid()</span></div></foreignObject><foreignObject transform="translate( -75.5078125, 84)" height="24" width="57.546875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+close()</span></div></foreignObject></g></g><g transform="translate(309.8203125, 512.5)" id="classId-ConnectionFactory-24" class="node default"><rect height="119" width="171.609375" y="-59.5" x="-85.8046875" class="outer title-state" style=""></rect><line y2="-23.5" y1="-23.5" x2="85.8046875" x1="-85.8046875" class="divider"></line><line y2="-7.5" y1="-7.5" x2="85.8046875" x1="-85.8046875" class="divider"></line><g class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"></span></div></foreignObject><foreignObject transform="translate( -73.1015625, -52)" height="24" width="146.203125" class="classTitle"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">ConnectionFactory</span></div></foreignObject><foreignObject transform="translate( -78.3046875, 0)" height="24" width="145.875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+createConnection()</span></div></foreignObject><foreignObject transform="translate( -78.3046875, 28)" height="24" width="156.609375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+validateConnection()</span></div></foreignObject></g></g></g></g></g></svg></section><section class="chapter"><h2 id="implementa-o" data-toc="implementa-o">Implementa&ccedil;&atilde;o</h2><section class="chapter"><h3 id="1-pool-de-conex-es" data-toc="1-pool-de-conex-es">1. Pool de Conex&otilde;es</h3><div class="code-block" data-lang="java">
public class ConnectionPool {
    private static volatile ConnectionPool instance;
    private final List&lt;PooledConnection&gt; connections;
    private final int maxSize;
    private final int timeout;
    private final ConnectionFactory factory;
    
    private ConnectionPool(ConnectionConfig config) {
        this.maxSize = config.getMaxSize();
        this.timeout = config.getTimeout();
        this.connections = new ArrayList&lt;&gt;();
        this.factory = new ConnectionFactory(config);
    }
    
    public static ConnectionPool getInstance(ConnectionConfig config) {
        if (instance == null) {
            synchronized (ConnectionPool.class) {
                if (instance == null) {
                    instance = new ConnectionPool(config);
                }
            }
        }
        return instance;
    }
    
    public synchronized Connection getConnection() throws ConnectionException {
        // Procura conexão disponível
        Optional&lt;PooledConnection&gt; availableConnection = connections.stream()
            .filter(conn -&gt; !conn.isInUse() &amp;&amp; conn.isValid())
            .findFirst();
            
        if (availableConnection.isPresent()) {
            PooledConnection connection = availableConnection.get();
            connection.setInUse(true);
            return connection;
        }
        
        // Cria nova conexão se não atingiu o limite
        if (connections.size() &lt; maxSize) {
            PooledConnection connection = factory.createConnection();
            connections.add(connection);
            connection.setInUse(true);
            return connection;
        }
        
        throw new ConnectionException(&quot;Connection pool limit reached&quot;);
    }
    
    public synchronized void releaseConnection(Connection connection) {
        if (connection instanceof PooledConnection) {
            PooledConnection pooledConnection = (PooledConnection) connection;
            pooledConnection.setInUse(false);
            pooledConnection.setLastUsed(System.currentTimeMillis());
        }
    }
}
</div></section><section class="chapter"><h3 id="2-conex-o-com-pool" data-toc="2-conex-o-com-pool">2. Conex&atilde;o com Pool</h3><div class="code-block" data-lang="java">
public class PooledConnection implements Connection {
    private final Connection delegate;
    private boolean inUse;
    private long lastUsed;
    private final int timeout;
    
    public PooledConnection(Connection delegate, int timeout) {
        this.delegate = delegate;
        this.timeout = timeout;
        this.lastUsed = System.currentTimeMillis();
    }
    
    public boolean isValid() {
        if (System.currentTimeMillis() - lastUsed &gt; timeout) {
            return false;
        }
        try {
            return delegate.isValid(1);
        } catch (SQLException e) {
            return false;
        }
    }
    
    @Override
    public void close() {
        ConnectionPool.getInstance().releaseConnection(this);
    }
    
    // Delegação de outros métodos da interface Connection
}
</div></section><section class="chapter"><h3 id="3-configura-o" data-toc="3-configura-o">3. Configura&ccedil;&atilde;o</h3><div class="code-block" data-lang="java">
public class ConnectionConfig {
    private final String url;
    private final String username;
    private final String password;
    private final int maxSize;
    private final int timeout;
    
    private ConnectionConfig(Builder builder) {
        this.url = builder.url;
        this.username = builder.username;
        this.password = builder.password;
        this.maxSize = builder.maxSize;
        this.timeout = builder.timeout;
    }
    
    public static class Builder {
        private String url;
        private String username;
        private String password;
        private int maxSize = 10;
        private int timeout = 30000;
        
        public Builder url(String url) {
            this.url = url;
            return this;
        }
        
        // Outros métodos builder...
        
        public ConnectionConfig build() {
            return new ConnectionConfig(this);
        }
    }
}
</div></section></section><section class="chapter"><h2 id="uso-do-pool" data-toc="uso-do-pool">Uso do Pool</h2><div class="code-block" data-lang="java">
// Configuração
ConnectionConfig config = new ConnectionConfig.Builder()
    .url(&quot;jdbc:postgresql://localhost:5432/db&quot;)
    .username(&quot;user&quot;)
    .password(&quot;pass&quot;)
    .maxSize(20)
    .timeout(30000)
    .build();

// Obter instância do pool
ConnectionPool pool = ConnectionPool.getInstance(config);

// Usar conexão com try-with-resources
try (Connection conn = pool.getConnection()) {
    // Executar operações
    conn.prepareStatement(&quot;SELECT * FROM users&quot;).executeQuery();
} catch (SQLException e) {
    // Tratamento de erro
}
</div></section><section class="chapter"><h2 id="monitoramento" data-toc="monitoramento">Monitoramento</h2><div class="code-block" data-lang="java">
public class PoolMonitor {
    private final ConnectionPool pool;
    
    public PoolStatistics getStatistics() {
        return new PoolStatistics(
            pool.getTotalConnections(),
            pool.getActiveConnections(),
            pool.getIdleConnections(),
            pool.getAverageWaitTime()
        );
    }
    
    public void logStatistics() {
        PoolStatistics stats = getStatistics();
        Logger.info(&quot;Pool Stats: active={}, idle={}, total={}, avgWait={}ms&quot;,
            stats.getActive(),
            stats.getIdle(),
            stats.getTotal(),
            stats.getAverageWaitTime());
    }
}
</div></section><section class="chapter"><h2 id="boas-pr-ticas" data-toc="boas-pr-ticas">Boas Pr&aacute;ticas</h2><ol class="list _decimal" id="-8bpsx5_22" type="1"><li class="list__item" id="-8bpsx5_23"><p id="-8bpsx5_26"><span class="control" id="-8bpsx5_28">Thread Safety</span></p><ul class="list _bullet" id="-8bpsx5_27"><li class="list__item" id="-8bpsx5_29"><p id="-8bpsx5_32">Use sincroniza&ccedil;&atilde;o apropriada</p></li><li class="list__item" id="-8bpsx5_30"><p id="-8bpsx5_33">Evite deadlocks</p></li><li class="list__item" id="-8bpsx5_31"><p id="-8bpsx5_34">Implemente timeout para opera&ccedil;&otilde;es</p></li></ul></li><li class="list__item" id="-8bpsx5_24"><p id="-8bpsx5_35"><span class="control" id="-8bpsx5_37">Gest&atilde;o de Recursos</span></p><ul class="list _bullet" id="-8bpsx5_36"><li class="list__item" id="-8bpsx5_38"><p id="-8bpsx5_41">Limite m&aacute;ximo de conex&otilde;es</p></li><li class="list__item" id="-8bpsx5_39"><p id="-8bpsx5_42">Timeout para conex&otilde;es ociosas</p></li><li class="list__item" id="-8bpsx5_40"><p id="-8bpsx5_43">Limpeza peri&oacute;dica de conex&otilde;es inv&aacute;lidas</p></li></ul></li><li class="list__item" id="-8bpsx5_25"><p id="-8bpsx5_44"><span class="control" id="-8bpsx5_46">Monitoramento</span></p><ul class="list _bullet" id="-8bpsx5_45"><li class="list__item" id="-8bpsx5_47"><p id="-8bpsx5_50">Logging de opera&ccedil;&otilde;es importantes</p></li><li class="list__item" id="-8bpsx5_48"><p id="-8bpsx5_51">M&eacute;tricas de utiliza&ccedil;&atilde;o</p></li><li class="list__item" id="-8bpsx5_49"><p id="-8bpsx5_52">Alertas para situa&ccedil;&otilde;es cr&iacute;ticas</p></li></ul></li></ol></section><section class="chapter"><h2 id="desafios-comuns" data-toc="desafios-comuns">Desafios Comuns</h2><ol class="list _decimal" id="-8bpsx5_53" type="1"><li class="list__item" id="-8bpsx5_54"><p id="-8bpsx5_57"><span class="control" id="-8bpsx5_59">Vazamento de Conex&otilde;es</span></p><ul class="list _bullet" id="-8bpsx5_58"><li class="list__item" id="-8bpsx5_60"><p id="-8bpsx5_63">Use try-with-resources</p></li><li class="list__item" id="-8bpsx5_61"><p id="-8bpsx5_64">Implemente timeout</p></li><li class="list__item" id="-8bpsx5_62"><p id="-8bpsx5_65">Monitore conex&otilde;es ativas</p></li></ul></li><li class="list__item" id="-8bpsx5_55"><p id="-8bpsx5_66"><span class="control" id="-8bpsx5_68">Performance</span></p><ul class="list _bullet" id="-8bpsx5_67"><li class="list__item" id="-8bpsx5_69"><p id="-8bpsx5_72">Balance o tamanho do pool</p></li><li class="list__item" id="-8bpsx5_70"><p id="-8bpsx5_73">Otimize valida&ccedil;&atilde;o de conex&otilde;es</p></li><li class="list__item" id="-8bpsx5_71"><p id="-8bpsx5_74">Implemente cache de statements</p></li></ul></li><li class="list__item" id="-8bpsx5_56"><p id="-8bpsx5_75"><span class="control" id="-8bpsx5_77">Escalabilidade</span></p><ul class="list _bullet" id="-8bpsx5_76"><li class="list__item" id="-8bpsx5_78"><p id="-8bpsx5_81">Suporte m&uacute;ltiplos bancos</p></li><li class="list__item" id="-8bpsx5_79"><p id="-8bpsx5_82">Configure por ambiente</p></li><li class="list__item" id="-8bpsx5_80"><p id="-8bpsx5_83">Permita ajustes din&acirc;micos</p></li></ul></li></ol></section><section class="chapter"><h2 id="testes" data-toc="testes">Testes</h2><div class="code-block" data-lang="java">
@Test
public void testConnectionPool() {
    // Configurar
    ConnectionConfig config = new ConnectionConfig.Builder()
        .url(&quot;jdbc:h2:mem:testdb&quot;)
        .maxSize(5)
        .build();
    
    ConnectionPool pool = ConnectionPool.getInstance(config);
    
    // Testar obtenção de conexões
    List&lt;Connection&gt; connections = new ArrayList&lt;&gt;();
    for (int i = 0; i &lt; 5; i++) {
        connections.add(pool.getConnection());
    }
    
    // Verificar limite
    assertThrows(ConnectionException.class, () -&gt; {
        pool.getConnection();
    });
    
    // Liberar e reutilizar
    connections.get(0).close();
    assertNotNull(pool.getConnection());
}
</div></section><section class="chapter"><h2 id="pr-ximos-passos" data-toc="pr-ximos-passos">Pr&oacute;ximos Passos</h2><ol class="list _decimal" id="-8bpsx5_85" type="1"><li class="list__item" id="-8bpsx5_86"><p id="-8bpsx5_89"><span class="control" id="-8bpsx5_91">Melhorias</span></p><ul class="list _bullet" id="-8bpsx5_90"><li class="list__item" id="-8bpsx5_92"><p id="-8bpsx5_95">Implementar failover</p></li><li class="list__item" id="-8bpsx5_93"><p id="-8bpsx5_96">Adicionar suporte a sharding</p></li><li class="list__item" id="-8bpsx5_94"><p id="-8bpsx5_97">Otimizar performance</p></li></ul></li><li class="list__item" id="-8bpsx5_87"><p id="-8bpsx5_98"><span class="control" id="-8bpsx5_100">Integra&ccedil;&otilde;es</span></p><ul class="list _bullet" id="-8bpsx5_99"><li class="list__item" id="-8bpsx5_101"><p id="-8bpsx5_104">Framework ORM</p></li><li class="list__item" id="-8bpsx5_102"><p id="-8bpsx5_105">Sistema de m&eacute;tricas</p></li><li class="list__item" id="-8bpsx5_103"><p id="-8bpsx5_106">Ferramentas de monitoramento</p></li></ul></li><li class="list__item" id="-8bpsx5_88"><p id="-8bpsx5_107"><span class="control" id="-8bpsx5_109">Documenta&ccedil;&atilde;o</span></p><ul class="list _bullet" id="-8bpsx5_108"><li class="list__item" id="-8bpsx5_110"><p id="-8bpsx5_113">JavaDoc completo</p></li><li class="list__item" id="-8bpsx5_111"><p id="-8bpsx5_114">Guia de configura&ccedil;&atilde;o</p></li><li class="list__item" id="-8bpsx5_112"><p id="-8bpsx5_115">Exemplos de uso</p></li></ul></li></ol></section><section class="chapter"><h2 id="recursos" data-toc="recursos">Recursos</h2><ul class="list _bullet" id="-8bpsx5_116"><li class="list__item" id="-8bpsx5_117"><p id="-8bpsx5_120"><a href="https://github.com/brettwooldridge/HikariCP" id="-8bpsx5_121" data-external="true" rel="noopener noreferrer" target="_blank">HikariCP - Pool de Conex&otilde;es</a></p></li><li class="list__item" id="-8bpsx5_118"><p id="-8bpsx5_122"><a href="https://commons.apache.org/proper/commons-dbcp/" id="-8bpsx5_123" data-external="true" rel="noopener noreferrer" target="_blank">Apache Commons DBCP</a></p></li><li class="list__item" id="-8bpsx5_119"><p id="-8bpsx5_124"><a href="https://www.oracle.com/technical-resources/articles/java/jdbc-best-practices.html" id="-8bpsx5_125" data-external="true" rel="noopener noreferrer" target="_blank">Java JDBC Best Practices</a></p></li></ul></section><div class="last-modified">28 abril 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="creational-projects.html" class="navigation-links__prev">Projetos de Padr&otilde;es Criacionais</a><a href="document-generator.html" class="navigation-links__next">Document Generator Pattern</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>